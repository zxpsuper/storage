!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).storage={})}(this,(function(t){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t,e){return t.charCodeAt(~~(e%t.length))}function r(t){var n,r,o,i,a,u=0,s="";if(!t)return t;do{n=(i=t[u++]<<16|t[u++]<<8|t[u++])>>12&63,r=i>>6&63,o=63&i,s+=e.charAt(i>>18&63)+e.charAt(n)+e.charAt(r)+e.charAt(o)}while(u<t.length);return((a=t.length%3)?s.slice(0,a-3):s)+"===".slice(a||3)}function o(t){var n,r,o,i,a,u,s=0,c=[];if(!t)return t;t+="";do{n=(u=e.indexOf(t.charAt(s++))<<18|e.indexOf(t.charAt(s++))<<12|(i=e.indexOf(t.charAt(s++)))<<6|(a=e.indexOf(t.charAt(s++))))>>16&255,r=u>>8&255,o=255&u,c.push(n),64!==i&&(c.push(r),64!==a&&c.push(o))}while(s<t.length);return c}function i(t,e){for(var o=0,i=(t=encodeURIComponent(t)).length,a=[];o<i;o++)a[o]=t[o].charCodeAt(0)^n(e,o);return r(a)}function a(t,e){for(var r=o(t),i=Array.from({length:r.length}),a=0,u=i.length;a<u;a++)i[a]=String.fromCharCode(r[a]^n(e,a));return decodeURIComponent(i.join(""))}var u={length:0,data:[],clear:function(){this.data=[]},getItem:function(t){var e=this.data.find((function(e){return e.key===t}));return e?e.value:null},key:function(t){return t>this.length-1||t<0?null:this.data[t].key},removeItem:function(t){var e=this.data.find((function(e){return e.key===t}));e&&this.data.splice(e.index,1)},setItem:function(t,e){var n=this.data.find((function(e){return e.key===t}));n?n.value=e:this.data.push({key:t,value:e,index:this.data.length})}};Object.defineProperty(u,"length",{get:function(){return u.data.length},enumerable:!1});var s="undefined"==typeof window,c=function(){function t(t){this.options={type:"localStorage",encrypt:""},t&&(this.options=Object.assign(this.options,t)),this.adapter=s?u:window[this.options.type]}return t.prototype.getKey=function(t){return this.options.encrypt?"@suporka/storage_"+i(t,this.options.encrypt):t},t.prototype.getValue=function(t){if(null===t)return null;this.options.encrypt&&(t=a(t,this.options.encrypt));try{t=JSON.parse(t)}catch(e){return t}return t},t.prototype.setValue=function(t){return t=t&&"object"==typeof t?JSON.stringify(t):t+"",this.options.encrypt&&(t=i(t,this.options.encrypt)),t},t.prototype.get=function(t){var e=this.getKey(t);return this.getValue(this.adapter.getItem(e))},t.prototype.set=function(t,e){this.adapter.setItem(this.getKey(t),this.setValue(e))},t.prototype.remove=function(t){this.adapter.removeItem(this.getKey(t))},t.prototype.clear=function(){this.adapter.clear()},t}();t.customStorage=u,t.decyt=a,t.default=c,t.incry=i,Object.defineProperty(t,"__esModule",{value:!0})}));
